import base64
exec(base64.b64decode("IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCiMgREVWRUxPUEVSIDogWFZSDQojIFRFQU5DT05UQSA6IEtPTlRPTA0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCg0KaW1wb3J0IHJlcXVlc3RzLGJzNCxqc29uLG9zLHN5cyxyYW5kb20sZGF0ZXRpbWUsdGltZSxyZQ0KdHJ5Og0KCWltcG9ydCByaWNoDQpleGNlcHQgSW1wb3J0RXJyb3I6DQoJb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByaWNoJykNCgl0aW1lLnNsZWVwKDEpDQoJdHJ5Og0KCQlpbXBvcnQgcmljaA0KCWV4Y2VwdCBJbXBvcnRFcnJvcjoNCgkJZXhpdCgnVGlkYWsgRGFwYXQgTWVuZ2luc3RhbGwgTW9kdWxlIHJpY2gsIENvYmEgSW5zdGFsbCBNYW51YWwgKHBpcCBpbnN0YWxsIHJpY2gpJykNCmltcG9ydCB0aHJlYWRpbmcNCmZyb20gcmljaC50YWJsZSBpbXBvcnQgVGFibGUgYXMgbWUNCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlIGFzIHNvbA0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyc2VyDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQNCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBHcm91cCBhcyBncA0KZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbCBhcyBuZWwNCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgY2V0YWsNCmZyb20gcmljaC5tYXJrZG93biBpbXBvcnQgTWFya2Rvd24gYXMgbWFyaw0KZnJvbSByaWNoLmNvbHVtbnMgaW1wb3J0IENvbHVtbnMgYXMgY29sDQp0cnk6dWdlbiA9IG9wZW4oJ3VzZXIudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCmV4Y2VwdDp1Z2VuID0gWydNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMi4zLjQ7IHB0LXB0OyBTb255RXJpY3Nzb25MVDE4YSBCdWlsZC80LjAuMS5BLjAuMjY2KSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjE7IHJ1LXJ1OyA5OTMwaSBCdWlsZC9KT1A0MEQpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDIuMy40OyBydS1ydTsgTUlEIEJ1aWxkL0dSSjIyKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4zOyBlbi11czsgQVNVU19UMDBKIEJ1aWxkL0pTUzE1USkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjI7IHJ1LXJ1OyBGbHkgSVE0NDA0IEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCBZYW5kZXhTZWFyY2gvNy4xNiddDQp0cnk6dWdlbjIgPSBvcGVuKCd1c2VyMi50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KZXhjZXB0OnVnZW4yID0gWydNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMi4zLjQ7IHB0LXB0OyBTb255RXJpY3Nzb25MVDE4YSBCdWlsZC80LjAuMS5BLjAuMjY2KSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjE7IHJ1LXJ1OyA5OTMwaSBCdWlsZC9KT1A0MEQpIEFwcGxlV2ViS2l0LzUzNC4zMCAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTM0LjMwJywnTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDIuMy40OyBydS1ydTsgTUlEIEJ1aWxkL0dSSjIyKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIE1vYmlsZSBTYWZhcmkvNTMzLjEnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4zOyBlbi11czsgQVNVU19UMDBKIEJ1aWxkL0pTUzE1USkgQXBwbGVXZWJLaXQvNTM0LjMwIChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzQuMzAnLCdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC4yLjI7IHJ1LXJ1OyBGbHkgSVE0NDA0IEJ1aWxkL0pEUTM5KSBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMCBZYW5kZXhTZWFyY2gvNy4xNiddDQoNCmlkLGlkMixsb29wLG9rLGNwLGFrdW4sb3ByZWssbWV0aG9kLGxpc2Vuc2lrdSx0YXBsaWthc2ksdG9rZW5rdSx1aWQsbGlzZW5zaWt1bmk9IFtdLFtdLDAsMCwwLFtdLFtdLFtdLFtdLFtdLFtdLFtdLFtdDQoNCnggPSAnXDMzW20nICMgREVGQVVMVA0KayA9ICdcMDMzWzkzbScgIyBLVU5JTkcgKw0KaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsNCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0NCnUgPSAnXDAzM1s5NW0nICMgVU5HVQ0Ka2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0NCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQ0KcCA9ICdceDFiWzA7MzRtJyAjIEJJUlUgKw0KUCA9ICdcMDMzWzA7MDBtJw0KSiA9ICdcMDMzWzA7MzNtJw0KUyA9ICdcMDMzWzA7MDBtJw0KTiA9ICdceDFiWzBtJw0KSSA9J1wwMzNbMDszMm0nDQpDID0nXDAzM1swOzM2bScNCk0gPSdcMDMzWzA7MzFtJw0KVSA9J1wwMzNbMDszNW0nDQpLID0nXDAzM1swOzMzbScNClA9J1wwMzNbMDBtJw0KaD0nXDAzM1swOzkwbScNClE9IlwwMzNbMDBtIg0Ka2s9J1wwMzNbMDszMm0nDQpmZj0nXDAzM1swOzM2bScNCkc9J1wwMzNbMDszNm0nDQpwPSdcMDMzWzAwbScNCmg9J1wwMzNbMDs5MG0nDQpRPSJcMDMzWzAwbSINCkk9J1wwMzNbMDszMm0nDQpJST0nXDAzM1swOzM2bScNCm09J1wwMzNbMDszMW0nDQpPID0nXDAzM1swOzMzbScNCkg9J1wwMzNbMDszM20nDQpiID0gJ1wwMzNbMDszNm0nDQp3YXIgPSAiW+KAol0iDQpCID0gcmFuZG9tLmNob2ljZShbVSxJLEssYixNXSkNCg0KZGljID0geycxJzonSmFudWFyaScsJzInOidGZWJydWFyaScsJzMnOidNYXJldCcsJzQnOidBcHJpbCcsJzUnOidNZWknLCc2JzonSnVuaScsJzcnOidKdWxpJywnOCc6J0FndXN0dXMnLCc5JzonU2VwdGVtYmVyJywnMTAnOidPa3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVzZW1iZXInfQ0KZGljMiA9IHsnMDEnOidKYW51YXJpJywnMDInOidGZWJydWFyaScsJzAzJzonTWFyZXQnLCcwNCc6J0FwcmlsJywnMDUnOidNZWknLCcwNic6J0p1bmknLCcwNyc6J0p1bGknLCcwOCc6J0FndXN0dXMnLCcwOSc6J1NlcHRlbWJlcicsJzEwJzonT2t0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0Rlc2VtYmVyJ30NCnRnbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLmRheQ0KYmxuID0gZGljWyhzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkubW9udGgpKV0NCnRobiA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpLnllYXINCm9rYyA9ICdPSy0nK3N0cih0Z2wpKyctJytzdHIoYmxuKSsnLScrc3RyKHRobikrJy50eHQnDQpjcGMgPSAnQ1AtJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0Jw0KZGVmIGNsZWFyKCk6DQoJb3Muc3lzdGVtKCdjbGVhcicpDQpkZWYgYmFjaygpOg0KCWxvZ2luKCkNCiMgQkFOTkVSDQpkZWYgYmFubmVyKCk6DQoJcHJpbnQoJycnJXMNCuKWiA0K4paI4paI4pWXICDilojilojilZfilojilojilZcgICDilojilojilZfilojilojilojilojilojilojilZcgDQrilZrilojilojilZfilojilojilZTilZ3ilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZcNCiDilZrilojilojilojilZTilZ0g4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWdDQog4paI4paI4pWU4paI4paI4pWXIOKVmuKWiOKWiOKVlyDilojilojilZTilZ3ilojilojilZTilZDilZDilojilojilZcNCuKWiOKWiOKVlOKVnSDilojilojilZcg4pWa4paI4paI4paI4paI4pWU4pWdIOKWiOKWiOKVkSAg4paI4paI4pWRDQrilZrilZDilZ0gIOKVmuKVkOKVnSAg4pWa4pWQ4pWQ4pWQ4pWdICDilZrilZDilZ0gIOKVmuKVkOKVnSAgICAgICAgICAgICAgICAgICAgICAgICANCiIiIiUoTikpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0K4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSADQogW1x4MWJbMTs5Nm0rJXNdIE5hbWEgICAgICAgOiBYVlINCiBbXHgxYlsxOzk2bSslc10gV2hhdHNBcHAgICA6IDYyODM4NzgwODM0NDgNCiBbXHgxYlsxOzk2bSslc10gRmFjZWJvb2sgICA6IFhWUg0KIFtceDFiWzE7OTZtKyVzXSBHaXRodWIgICAgICA6IGh0dHBzOi8vZ2l0aHViLmNvbS9rYWx6ZTEyMy9rYWx6ZS1uZXcNCuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuJycnJShOLE4sTixOKSkNCmRlZiBrb250b2woKToNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBwcmludChmIiIiIA0KIF9fICAgICAgICBfX19fX18gICBfX19fX18gICBfX19fX19fXyAgX18gICAgX18gICBfX19fX18gICBfX19fX18gICAgICAgDQp8ICBcICAgICAgfCAgICAgIFwgLyAgICAgIFwgfCAgICAgICAgXHwgIFwgIHwgIFwgLyAgICAgIFwgfCAgICAgIFwgICAgICANCnwgJCQgICAgICAgXCQkJCQkJHwgICQkJCQkJFx8ICQkJCQkJCQkfCAkJFwgfCAkJHwgICQkJCQkJFwgXCQkJCQkJCAgICAgIA0KfCAkJCAgICAgICAgfCAkJCAgfCAkJF9fX1wkJHwgJCRfXyAgICB8ICQkJFx8ICQkfCAkJF9fX1wkJCAgfCAkJCAgICAgICAgDQp8ICQkICAgICAgICB8ICQkICAgXCQkICAgIFwgfCAkJCAgXCAgIHwgJCQkJFwgJCQgXCQkICAgIFwgICB8ICQkICAgICAgICANCnwgJCQgICAgICAgIHwgJCQgICBfXCQkJCQkJFx8ICQkJCQkICAgfCAkJFwkJCAkJCBfXCQkJCQkJFwgIHwgJCQgICAgICAgIA0KfCAkJF9fX19fICBffCAkJF8gfCAgXF9ffCAkJHwgJCRfX19fXyB8ICQkIFwkJCQkfCAgXF9ffCAkJCBffCAkJF8gICAgICAgDQp8ICQkICAgICBcfCAgICQkIFwgXCQkICAgICQkfCAkJCAgICAgXHwgJCQgIFwkJCQgXCQkICAgICQkfCAgICQkIFwgICAgICANCiBcJCQkJCQkJCQgXCQkJCQkJCAgXCQkJCQkJCAgXCQkJCQkJCQkIFwkJCAgIFwkJCAgXCQkJCQkJCAgXCQkJCQkJCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQp7UH1b4oCiXXtCfS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS17UH1b4oCiXQ0Ke0J9IHwNCntQfVvigKJdIEFVVEhPUjogWFZSDQp7UH1b4oCiXSBXSEFUU0FQUDogNjI4Mzg3ODA4MzQ0OA0Ke1B9W+KAol0gRkFDRUJPT0s6IFhWUiIiIikNCmRlZiBsaWNlbnNpKCk6I2xpbmU6NDINCiAgdHJ5IDojbGluZTo0Mw0KICAgIG9zIC5zeXN0ZW0gKCdjbGVhcicpDQogICAga29udG9sKCkNCiAgICBwcmludCAoZiIiIg0Ke1V9W3tQfTF7VX1de1B9IEJlbGkgQXBpa2V5DQp7VX1be1B9MntVfV17UH0gTWFzdWthbiBBcGlLZXkNCntVfVt7UH0ze1V9XXtQfSBLZWx1YXIge1V9W3tIfUV4aXR7VX1de0h9DQoiIiIpI2xpbmU6NDkNCiAgICBPT08wME8wT09PMDBPTzAwTyA9aW5wdXQgKGYie0h9W3tQfT97SH1de1B9IENob29zZSA6e0t9ICIpI2xpbmU6NTANCiAgICBpZiBPT08wME8wT09PMDBPTzAwTyBpbiBbJzEnLCcwMSddOiNsaW5lOjUxDQogICAgICBwcmludCAoZiJ7SH1be1B9IXtIfV17UH0gQW5kYSBBa2FuIERpYXJhaGthbiBLZSBXaGF0c2FwcC4uLiIpO3RpbWUgLnNsZWVwICgzICk7b3MgLnN5c3RlbSAoJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvNjI4Mzg2NTI4MzI3OD90ZXh0PUJhbmcrS2FseitCZWxpK0xpc2Vuc2knKTtleGl0ICgpI2xpbmU6NTINCiAgICBlbGlmIE9PTzAwTzBPT08wME9PMDBPIGluIFsnMicsJzAyJ106I2xpbmU6NTMNCiAgICAgIE8wMDBPMDAwT09PMDAwT09PID1pbnB1dCAoZiJ7SH1be1B9P3tIfV17UH0gQXBpIEtleSA6e0t9ICIpI2xpbmU6NTQNCiAgICAgIGlmIGxlbiAoTzAwME8wMDBPT08wMDBPT08gKT09MCA6I2xpbmU6NTUNCiAgICAgICAgZXhpdCAoZiJ7UH1be019IXtQfV17TX0gSmFuZ2FuIEtvc29uZyIpI2xpbmU6NTYNCiAgICAgIGVsc2UgOiNsaW5lOjU3DQogICAgICAgIHdpdGggcmVxdWVzdHMgLlNlc3Npb24gKClhcyBPME8wT08wTzBPMDBPT09PMCA6I2xpbmU6NTggICAjIyMjIElTSSBUT0tFTiBMVSBEQU4gICBJRCBMVQ0KICAgICAgICAgIE9PTzAwT08wME8wTzBPT09PID1PME8wT08wTzBPMDBPT09PMCAuZ2V0KGYnaHR0cHM6Ly9hcHAuY3J5cHRvbGVucy5pby9hcGkva2V5L2FjdGl2YXRlP3Rva2VuPVd5SXhOams0TXpreU9DSXNJa3RGV1VoSGFVSnpRa1p6Y0VwVGRYRlJNWGgwWlVoM1UwY3JPV3B5Tms5TE0xWldWMHhTUWxraVhRPT0mUHJvZHVjdElkPTE0ODc3JktleT17TzAwME8wMDBPT08wMDBPT099JlNpZ249VHJ1ZScpLmpzb24gKClbJ2xpY2Vuc2VLZXknXSNsaW5lOjU5DQogICAgICAgICAgb3BlbiAoJ2FwaWtleS50eHQnLCd3Jykud3JpdGUgKE8wMDBPMDAwT09PMDAwT09PICkjbGluZTo2MA0KICAgICAgICAgIHByaW50IChmIntIfVt7UH0qe0h9XXtQfSBFeHBpcmVkIDp7S30ge09PTzAwT08wME8wTzBPT09PWydleHBpcmVzJ10uc3BsaXQoJ1QnKVswXX0iKTt0aW1lIC5zbGVlcCAoMiApO2xvZ2luKCkjbGluZTo2MQ0KICAgIGVsaWYgT09PMDBPME9PTzAwT08wME8gaW4gWyczJywnMDMnXTojbGluZTo2Mg0KICAgICAgZXhpdCAoKSNsaW5lOjYzDQogICAgZWxzZSA6I2xpbmU6NjQNCiAgICAgIGV4aXQgKGYie1B9W3tNfSF7UH1de019IFdyb25nIElucHV0IikjbGluZTo2NQ0KICBleGNlcHQgKEtleUVycm9yICk6I2xpbmU6NjYNCiAgICBleGl0IChmIntQfVt7TX0he1B9XXtNfSBBcGkgS2V5IEludmFsaWQiKSNsaW5lOjY3DQogIGV4Y2VwdCBFeGNlcHRpb24gYXMgTzBPTzAwT09PMDAwT09PMDAgOiNsaW5lOjY4DQogICAgZXhpdCAoZiJ7UH1be019IXtQfV17TX0ge08wT08wME9PTzAwME9PTzAwfSIpI2xpbmU6NjkNCg0KYmFsbW9uZCA9IE8rIlsiK0orIuKAoiIrTysiXSINCg0KZGVmIGxvZ2luKCk6DQoJCXRyeToNCgkJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkNCgkJCXRva2Vua3UuYXBwZW5kKHRva2VuKQ0KCQkJdHJ5Og0KCQkJCXN5ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdKQ0KCQkJCXN5MiA9IGpzb24ubG9hZHMoc3kudGV4dClbJ25hbWUnXQ0KCQkJCXN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10NCgkJCQlzeTQgPSBqc29uLmxvYWRzKHN5LnRleHQpWydiaXJ0aGRheSddDQoJCQkJbWVudSgpDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJbG9naW5fbGFnaSgpDQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQkJYmFubmVyKCkNCgkJCQlsaSA9ICcjIEtPTkVLU0kgSU5URVJORVQgQkVSTUFTQUxBSCcNCgkJCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQ0KCQkJCXNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpDQoJCQkJZXhpdCgpDQoJCWV4Y2VwdCBJT0Vycm9yOg0KCQkJbG9naW5fbGFnaSgpDQoNCmRlZiBsb2dpbl9sYWdpKCk6DQoJYmFubmVyKCkNCglza3kgPSAnIyBNQVNVS0FOIFRPS0VOIEZBQ0VCT09LJw0KCXNreTIgPSBtYXJrKHNreSwgc3R5bGU9J2dyZWVuJykNCglzb2woKS5wcmludChza3kyLCBzdHlsZT0nY3lhbicpDQoJcGFuZGEgPSBpbnB1dCh4KydbJytwKyfigKInK3grJ10gVG9rZW4gRmIgOiAnKQ0KCWFrdW49b3BlbignLnRva2VuLnR4dCcsJ3cnKS53cml0ZShwYW5kYSkNCgl0cnk6DQoJCXRlcyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrcGFuZGEpDQoJCXRlczMgPSBqc29uLmxvYWRzKHRlcy50ZXh0KVsnaWQnXQ0KCQlzdWUgPSAnIyBuaWNlIExvZ2luIGJlcmhhc2lsJw0KCQlzdXUgPSBtYXJrKHN1ZSwgc3R5bGU9J2dyZWVuJykNCgkJc29sKCkucHJpbnQoc3V1LCBzdHlsZT0nY3lhbicpDQoJCXRpbWUuc2xlZXAoMi41KQ0KCQltZW51KCkNCglleGNlcHQgS2V5RXJyb3I6DQoJCXN1ZSA9ICcjIExvZ2luIEdhZ2FsLCBDZWsgdG9rZW4nDQoJCXN1dSA9IG1hcmsoc3VlLCBzdHlsZT0ncmVkJykNCgkJc29sKCkucHJpbnQoc3V1LCBzdHlsZT0nY3lhbicpDQoJCXRpbWUuc2xlZXAoMi41KQ0KCQlsb2dpbl9sYWdpKCkNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCWxpID0gJyMgS09ORUtTSSBJTlRFUk5FVCBCRVJNQVNBTEFILCBQRVJJS1NBICYgQ09CQSBMQUdJJw0KCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQ0KCQlzb2woKS5wcmludChsbywgc3R5bGU9J2N5YW4nKQ0KCQlleGl0KCkNCgkJDQpkZWYgbWVudSgpOg0KCXRyeTpzaCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9odHRwYmluLm9yZy9pcCcpLmpzb24oKQ0KCWV4Y2VwdDpzaCA9IHsnb3JpZ2luJzonLSd9DQoJdHJ5Og0KCQl0Z2x4ID0gbXlfYmlydGhkYXkuc3BsaXQoJy8nKVsxXQ0KCQlibG54ID0gZGljMltzdHIobXlfYmlydGhkYXkuc3BsaXQoJy8nKVswXSldDQoJCXRobnggPSBteV9iaXJ0aGRheS5zcGxpdCgnLycpWzJdDQoJCWJpcnRoID0gdGdseCsnICcrYmxueCsnICcrdGhueA0KCWV4Y2VwdDpiaXJ0aCA9ICctJw0KCWJhbm5lcigpDQoJc2cgPSAnIyBJTkZPUk1BU0kgVVNFUicNCglmeCA9IG1hcmsoc2csIHN0eWxlPSdyZWQnKQ0KCXNvbCgpLnByaW50KGZ4KQ0KCSNwcmludCh4KydbJytoKyfigKInK3grJ10gXDAzM1swOzM0bU5hbWEgQWt1biBTaWEgIDogJytzdHIobXlfbmFtZSkpDQoJI3ByaW50KHgrJ1snK2grJ+KAoicreCsnXSBcMDMzWzA7MzRtSUQgQWt1biBTdWEgICAgOiAnK3N0cihteV9pZCkpDQoJI3ByaW50KHgrJ1snK2grJ+KAoicreCsnXSBcMDMzWzkzbVRhbmdnYWwgQ3Jvb3QgIDogJytzdHIoYmlydGgpKQ0KCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBcMDMzWzkyM21BbGFtYXQgSXAgICAgOiAnK3N0cihzaFsnb3JpZ2luJ10pKQ0KCWlvID0gJ1x4MWJbMTs5Mm1bMDFdIENyYWNrIERhcmkgUGVydGVtYW5hbiBQdWJsaWtcblx4MWJbMTs5Mm1bMDJdIENyYWNrIElEIERhcmkgQWt1biBQdWJsaWsgKG1hc2FsKSBcblx4MWJbMTs5Mm1bMDNdIENyYWNrIERhcmkgR3J1cFxuXHgxYlsxOzkybVswNF0gQm90IFNoYXJlIEZiXG5ceDFiWzE7OTJtWzA1XSBDcmFjayBGb2xsb3dlciBGYlxuXHgxYlsxOzkybVswNl0gQ2VrIEhhc2lsIENyYWNrXG5ceDFiWzE7OTJtWzA3XSBHYW50aW4gVXNlciBBZ2VudFxuXDAzM1x4MWJbMTs5Mm1bMDhdIENlayBIYXNpbCBDcmFja1xuWzAwXSBLZWx1YXInDQoJb2kgPSBuZWwoaW8sIHN0eWxlPSdjeWFuJykNCgljZXRhayhuZWwob2ksIHRpdGxlPSdQSUxJSEFOIE1FTlUnKSkNCglqaCA9IGlucHV0KHgrJ1snK3ArJ+KAoicreCsnXSBQaWxpaCA6ICcpDQoJaWYgamggaW4gWycxJywnMDEnXToNCgkJZHVtcF9wdWJsaWsoKQ0KCWVsaWYgamggaW4gWycyJywnMDInXToJCQ0KCQlkdW1wX21hc3NhbCgpDQoJZWxpZiBqaCBpbiBbJzMnLCcwMyddOg0KCQlncnVwKCkNCgllbGlmIGpoIGluIFsnNCcsJzA0J106DQoJCSBtYWluKCkNCgllbGlmIGpoIGluIFsnNScsJzA1J106DQoJCWZvbGxvd2VyKCkNCgllbGlmIGpoIGluIFsnNicsJzA2J106DQoJCXJlc3VsdCgpDQoJZWxpZiBqaCBpbiBbJzcnLCcwNyddOg0KCQl1c2VyYWdlbnQoKQ0KCWVsaWYgamggaW4gWyc4JywnMDgnXToNCgkJZmlsZSgpDQoJZWxpZiBqaCBpbiBbJzAnLCcwMCddOg0KCQlvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0JykNCgkJcHJpbnQoeCsnWycraCsn4oCiJyt4KyddIFR1bmdndSAuLi4nKQ0KCQl0aW1lLnNsZWVwKDEpDQoJCXN3ID0gJyMgU1VLU0VTIEtFTFVBUicNCgkJc29sKCkucHJpbnQobWFyayhzdywgc3R5bGU9J2dyZWVuJykpDQoJCWV4aXQoKQ0KCWVsc2U6DQoJCXJpYyA9ICcjIFBJTElIIFlBTkcgQkVORVIgTEFIIEtPTlRPTCcNCgkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkNCgkJZXhpdCgpDQoNCmRlZiByZXN1bHQoKToNCgljZWsgPSAnIyBDRUsgUkVTVUxUIENSQUNLJw0KCXNvbCgpLnByaW50KG1hcmsoY2VrLCBzdHlsZT0nZ3JlZW4nKSkNCglrYXllcyA9ICdbMDFdIENlayBIYXNpbCBDcFxuWzAyXSBDZWsgSGFzaWwgT2tcblswMF0gS2VtYmFsaSBLZSBNZW51Jw0KCWtpcyA9IG5lbChrYXllcywgc3R5bGU9J2N5YW4nKQ0KCWNldGFrKG5lbChraXMsIHRpdGxlPSdSRVNVTFRTJykpDQoJa3ogPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykNCglpZiBreiBpbiBbJzEnLCcwMSddOg0KCQl0cnk6dmluID0gb3MubGlzdGRpcignQ1AnKQ0KCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQoJCQlnYWRhID0gJyMgRElSRUtUT1JJIFRJREFLIERJVEVNVUtBTicNCgkJCXNvbCgpLnByaW50KG1hcmsoZ2FkYSwgc3R5bGU9J3JlZCcpKQ0KCQkJdGltZS5zbGVlcCgyKQ0KCQkJYmFjaygpDQoJCWlmIGxlbih2aW4pPT0wOg0KCQkJaGFoYSA9ICcjIEFOREEgQkVMVU0gTUVNSUxJS0kgUkVTVUxUIENQJw0KCQkJc29sKCkucHJpbnQobWFyayhoYWhhLCBzdHlsZT0neWVsbG93JykpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJZWxzZToNCgkJCWdlcnIgPSAnIyBIQVNJTCBDUCBBTkRBJw0KCQkJc29sKCkucHJpbnQobWFyayhnZXJyLCBzdHlsZT0nZ3JlZW4nKSkNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDoNCgkJCQkJbm9tID0gJzAnK3N0cihjaWgpDQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQkJcHJpbnQoJ1snK25vbSsnXSAnK2lzaSsnIC0tLT4gJytzdHIobGVuKGhlbSkpKycgQWt1bicreCkNCgkJCQllbHNlOg0KCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIC0tLT4gJytzdHIobGVuKGhlbSkpKycgQWt1bicreCkNCgkJCWdlcnIyID0gJyMgUElMSUggUkVTVUxUIFVOVFVLIERJVEFNUElMS0FOJw0KCQkJc29sKCkucHJpbnQobWFyayhnZXJyMiwgc3R5bGU9J2dyZWVuJykpDQoJCQlnZWVoID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBQaWxpaCA6ICcpDQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdDQoJCQlleGNlcHQgS2V5RXJyb3I6DQoJCQkJcmljID0gJyMgUElMSUhBTiBUSURBSyBBREEgREkgTUVOVScNCgkJCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQ0KCQkJCWV4aXQoKQ0KCQkJdHJ5OmxpbiA9IG9wZW4oJ0NQLycrZ2VoLCdyJykucmVhZCgpDQoJCQlleGNlcHQ6DQoJCQkJaGVoZSA9ICcjIEZJTEUgVElEQUsgRElURU1VS0FOLCBQRVJJS1NBICYgQ09CQSBMQUdJJw0KCQkJCXNvbCgpLnByaW50KG1hcmsoaGVoZSwgc3R5bGU9J3JlZCcpKQ0KCQkJCXRpbWUuc2xlZXAoMikNCgkJCQliYWNrKCkNCgkJCWFrdW4gPSAnIyBMSVNUIEFLVU4gQ1AgQU5EQScNCgkJCXNvbCgpLnByaW50KG1hcmsoYWt1biwgc3R5bGU9J2dyZWVuJykpDQoJCQlodXMgPSBvcy5zeXN0ZW0oJ2NkIENQICYmIGNhdCAnK2dlaCkNCgkJCWFrdW4yID0gJyMgTElTVCBBS1VOIENQIEFOREEnDQoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQ0KCQkJaW5wdXQoeCsnWycraCsn4oCiJyt4KyddIEtlbWJhbGknKQ0KCQkJYmFjaygpDQoJZWxpZiBreiBpbiBbJzInLCcwMiddOg0KCQl0cnk6dmluID0gb3MubGlzdGRpcignT0snKQ0KCQlleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQoJCQlnYWRhID0gJyMgRElSRUtUT1JJIFRJREFLIERJVEVNVUtBTicNCgkJCXNvbCgpLnByaW50KG1hcmsoZ2FkYSwgc3R5bGU9J3JlZCcpKQ0KCQkJdGltZS5zbGVlcCgyKQ0KCQkJYmFjaygpDQoJCWlmIGxlbih2aW4pPT0wOg0KCQkJaGFoYSA9ICcjIEFOREEgQkVMVU0gTUVNSUxJS0kgUkVTVUxUIE9LJw0KCQkJc29sKCkucHJpbnQobWFyayhoYWhhLCBzdHlsZT0neWVsbG93JykpDQoJCQl0aW1lLnNsZWVwKDIpDQoJCQliYWNrKCkNCgkJZWxzZToNCgkJCWdlcnIgPSAnIyBIQVNJTCBPSyBBTkRBJw0KCQkJc29sKCkucHJpbnQobWFyayhnZXJyLCBzdHlsZT0nZ3JlZW4nKSkNCgkJCWNpaCA9IDANCgkJCWxvbCA9IHt9DQoJCQlmb3IgaXNpIGluIHZpbjoNCgkJCQl0cnk6aGVtID0gb3BlbignT0svJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJCWV4Y2VwdDpjb250aW51ZQ0KCQkJCWNpaCs9MQ0KCQkJCWlmIGNpaDwxMDA6DQoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQ0KCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJCWxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pDQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpDQoJCQkJZWxzZToNCgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQ0KCQkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyAtLS0+ICcrc3RyKGxlbihoZW0pKSsnIEFrdW4nK3gpDQoJCQlnZXJyMiA9ICcjIFBJTElIIFJFU1VMVCBVTlRVSyBESVRBTVBJTEtBTicNCgkJCXNvbCgpLnByaW50KG1hcmsoZ2VycjIsIHN0eWxlPSdncmVlbicpKQ0KCQkJZ2VlaCA9IGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gUGlsaWggOiAnKQ0KCQkJdHJ5OmdlaCA9IGxvbFtnZWVoXQ0KCQkJZXhjZXB0IEtleUVycm9yOg0KCQkJCXJpYyA9ICcjIFBJTElIQU4gVElEQUsgQURBIERJIE1FTlUnDQoJCQkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkNCgkJCQlleGl0KCkNCgkJCXRyeTpsaW4gPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWQoKQ0KCQkJZXhjZXB0Og0KCQkJCWhlaGUgPSAnIyBGSUxFIFRJREFLIERJVEVNVUtBTiwgUEVSSUtTQSAmIENPQkEgTEFHSScNCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdyZWQnKSkNCgkJCQl0aW1lLnNsZWVwKDIpDQoJCQkJYmFjaygpDQoJCQlha3VuID0gJyMgTElTVCBBS1VOIE9LIEFOREEnDQoJCQlzb2woKS5wcmludChtYXJrKGFrdW4sIHN0eWxlPSdncmVlbicpKQ0KCQkJaHVzID0gb3Muc3lzdGVtKCdjZCBPSyAmJiBjYXQgJytnZWgpDQoJCQlha3VuMiA9ICcjIExJU1QgQUtVTiBPSyBBTkRBJw0KCQkJc29sKCkucHJpbnQobWFyayhha3VuLCBzdHlsZT0nZ3JlZW4nKSkNCgkJCWlucHV0KHgrJ1snK2grJ+KAoicreCsnXSBLZW1iYWxpJykNCgkJCWJhY2soKQ0KCWVsaWYga3ogaW4gWycwJywnMDAnXToNCgkJYmFjaygpDQoJZWxzZToNCgkJcmljID0gJyMgUElMSUhBTiBUSURBSyBBREEgREkgTUVOVScNCgkJc29sKCkucHJpbnQobWFyayhyaWMsIHN0eWxlPSdyZWQnKSkNCgkJZXhpdCgpDQoNCmRlZiBmaWxlKCk6DQoJdGVrID0gJyMgQ0VLIE9QU0kgREFSSSBGSUxFJw0KCXNvbCgpLnByaW50KG1hcmsodGVrLCBzdHlsZT0nY3lhbicpLCBzdHlsZT0nb24gcmVkJykNCglwcmludCh4KydbJytoKyfigKInK3grJ10gU2VkYW5nIE1lbWJhY2EgRmlsZSwgVHVuZ2d1IFNlYmVudGFyIC4uLicpDQoJdGltZS5zbGVlcCgyKQ0KCXRla3MgPSAnIyBQSUxJSCBGSUxFIFlHIEFLQU4gREkgQ0VLJw0KCXNvbCgpLnByaW50KG1hcmsodGVrcywgc3R5bGU9J2dyZWVuJykpDQoJbXlfZmlsZXMgPSBbXQ0KCXRyeToNCgkJbGlzID0gb3MubGlzdGRpcignQ1AgS09OVE9MJykNCgkJZm9yIGt0IGluIGxpczoNCgkJCW15X2ZpbGVzLmFwcGVuZChrdCkNCglleGNlcHQ6cGFzcw0KCXRyeToNCgkJbWVyID0gb3MubGlzdGRpcignT0snKQ0KCQlmb3IgdHkgaW4gbWVyOg0KCQkJbXlfZmlsZXMuYXBwZW5kKHR5KQ0KCWV4Y2VwdDpwYXNzDQoJaWYgbGVuKG15X2ZpbGVzKT09MDoNCgkJeXkgPSAnIyBBTkRBIEJFTFVNIE1FTUlMSUtJIFJFU1VMVCBVTlRVSyBESUNFSycNCgkJc29sKCkucHJpbnQobWFyayh5eSwgc3R5bGU9J3JlZCcpKQ0KCQlleGl0KCkNCgllbHNlOg0KCQljaWggPSAwDQoJCWxvbCA9IHt9DQoJCWZvciBpc2kgaW4gbXlfZmlsZXM6DQoJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KCQkJZXhjZXB0Og0KCQkJCXRyeTpoZW0gPSBvcGVuKCdPSy8nK2lzaSwncicpLnJlYWRsaW5lcygpDQoJCQkJZXhjZXB0OmNvbnRpbnVlDQoJCQljaWgrPTENCgkJCWlmIGNpaDwxMDoNCgkJCQlub20gPSAnMCcrc3RyKGNpaCkNCgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkNCgkJCQlwcmludCgnWycrbm9tKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQ0KCQkJZWxzZToNCgkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQoJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgLS0tPiAnK3N0cihsZW4oaGVtKSkrJyBBa3VuJyt4KQ0KCQl0ZWtzMiA9ICcjIFBJTElIIEZJTEUgWUcgQUtBTiBESSBDRUsnDQoJCXNvbCgpLnByaW50KG1hcmsodGVrczIsIHN0eWxlPSdncmVlbicpKQ0KCQlnZWVoID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBQaWxpaCA6ICcpDQoJCXRyeTpnZWggPSBsb2xbZ2VlaF0NCgkJZXhjZXB0IEtleUVycm9yOg0KCQkJcmljID0gJyMgUElMSUhBTiBUSURBSyBBREEgREkgTUVOVScNCgkJCXNvbCgpLnByaW50KG1hcmsocmljLCBzdHlsZT0ncmVkJykpDQoJCQlleGl0KCkNCgkJdHJ5Og0KCQkJaGYgPSBvcGVuKCdDUC8nK2dlaCwncicpLnJlYWRsaW5lcygpDQoJCQlmb3IgZnogaW4gaGY6DQoJCQkJYWt1bi5hcHBlbmQoZnoucmVwbGFjZSgnXG4nLCcnKSkNCgkJCWNla19vcHNpKCkNCgkJZXhjZXB0IElPRXJyb3I6DQoJCQl0cnk6DQoJCQkJaGYgPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWRsaW5lcygpDQoJCQkJZm9yIGZ6IGluIGhmOg0KCQkJCQlha3VuLmFwcGVuZChmei5yZXBsYWNlKCdcbicsJycpKQ0KCQkJCWNla19vcHNpKCkNCgkJCWV4Y2VwdCBJT0Vycm9yOg0KCQkJCWhlaGUgPSAnIyBGSUxFIFRJREFLIERJVEVNVUtBTiwgUEVSSUtTQSAmIENPQkEgTEFHSScNCgkJCQlzb2woKS5wcmludChtYXJrKGhlaGUsIHN0eWxlPSdyZWQnKSkNCgkJCQl0aW1lLnNsZWVwKDIpDQoJCQkJYmFjaygpDQoNCmRlZiBkdW1wX3B1YmxpaygpOg0KCXRyeToNCgkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQ0KCWV4Y2VwdCBJT0Vycm9yOg0KCQlleGl0KCkNCgl3aW4gPSAnIyBEVU1QIElEIFBVQkxJSycNCgl3aW4yID0gbWFyayh3aW4sIHN0eWxlPSdjeWFuJykNCglzb2woKS5wcmludCh3aW4yKQ0KCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBLZXRpayAibWUiIEppa2EgSW5naW4gRHVtcCBJRCBEYXJpIFRlbWFuJykNCglwaWwgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIE1hc3Vra2FuIElEIEZhY2Vib29rIDogJykNCgl0cnk6DQoJCWtvaDIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJytwaWwrJz9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdKS5qc29uKCkNCgkJZm9yIHBpIGluIGtvaDJbJ2ZyaWVuZHMnXVsnZGF0YSddOg0KCQkJdHJ5OmlkLmFwcGVuZChwaVsnaWQnXSsnfCcrcGlbJ25hbWUnXSkNCgkJCWV4Y2VwdDpjb250aW51ZQ0KCQlwcmludCh4KydbJytoKyfigKInK3grJ10gVG90YWwgOiAnK3N0cihsZW4oaWQpKSkNCgkJc2V0dGluZygpDQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQlsaSA9ICcjIEtPTkVLU0kgSU5URVJORVQgQkVSTUFTQUxBSCwgUEVSSUtTQSAmIENPQkEgTEFHSScNCgkJbG8gPSBtYXJrKGxpLCBzdHlsZT0ncmVkJykNCgkJc29sKCkucHJpbnQobG8sIHN0eWxlPSdjeWFuJykNCgkJZXhpdCgpDQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJdGVrcyA9ICcjIFBFUlRFTUFOQU4gVElEQUsgUFVCTElLIEFUQVUgVE9LRU4gUlVTQUsnDQoJCXRla3MyID0gbWFyayh0ZWtzLCBzdHlsZT0ncmVkJykNCgkJc29sKCkucHJpbnQodGVrczIpDQoJCWV4aXQoKQ0KDQpkZWYgZHVtcF9tYXNzYWwoKToNCgl3aW4gPSAnIyBEVU1QIElEIFBVQkxJSyBNQVNTQUwnDQoJd2luMiA9IG1hcmsod2luLCBzdHlsZT0nY3lhbicpDQoJc29sKCkucHJpbnQod2luMikNCglwcmludCh4KydbJytoKyfigKInK3grJ10gTUFTVUtLQU4gSlVNTEFIIElEIChKYW5nYW4gTGViaWggRGFyaSAxMCknKQ0KCXRyeToNCgkJanVtID0gaW50KGlucHV0KHgrJ1snK3ArJ2YnK3grJ10gR1VBIE1BVSBOQU5ZQSFCRVJBUEEgSUQgQUpHIDogJykpDQoJZXhjZXB0IFZhbHVlRXJyb3I6DQoJCXBlc2FuID0gJyMgSU5QVVQgWUFORyBBTkRBIE1BU1VLS0FOIEJVS0FOIEFOR0tBJw0KCQlwZXNhbjIgPSBtYXJrKHBlc2FuLCBzdHlsZT0ncmVkJykNCgkJc29sKCkucHJpbnQocGVzYW4yKQ0KCQlleGl0KCkNCglpZiBqdW08MSBvciBqdW0+MTA6DQoJCXBlc2FuID0gJyMgTE9HSU4gR0FHQUwgU0lMQUtBTiBHQU5USSBUT0tFTicNCgkJcGVzYW4yID0gbWFyayhwZXNhbiwgc3R5bGU9J3JlZCcpDQoJCXNvbCgpLnByaW50KHBlc2FuMikNCgkJZXhpdCgpDQoJc2VzPXJlcXVlc3RzLlNlc3Npb24oKQ0KCXl6ID0gMA0KCXByaW50KHgrJ1snK2grJ+KAoicreCsnXSBLZXRpayAibWUiIEppa2EgSW5naW4gRHVtcCBJRCBEYXJpIFRlbWFuJykNCglmb3IgbWV0IGluIHJhbmdlKGp1bSk6DQoJCXl6Kz0xDQoJCWtsID0gaW5wdXQoeCsnWycraCtzdHIoeXopK3grJ10gTWFzdWtrYW4gSUQgS2UgJytzdHIoeXopKycgOiAnKQ0KCQl1aWQuYXBwZW5kKGtsKQ0KCWZvciB1c2VyciBpbiB1aWQ6DQoJCXRyeToNCgkJCWNvbCA9IHNlcy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJyt1c2VycisnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0pLmpzb24oKQ0KCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQoJCQkJdHJ5Og0KCQkJCQlpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pDQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzDQoJCQkJCWVsc2U6aWQuYXBwZW5kKGlzbykNCgkJCQlleGNlcHQ6Y29udGludWUNCgkJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCgkJCXBhc3MNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knDQoJCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQ0KCQkJc29sKCkucHJpbnQobG8sIHN0eWxlPSdjeWFuJykNCgkJCWV4aXQoKQ0KCXRvdCA9ICcjIFRPVEFMIPCfkYk/PyAlcyBJRCwgSk5HTiBMVVBBIEJFUkRPQSBERUsnJShsZW4oaWQpKQ0KCWlmIGxlbihpZCk9PTA6DQoJCXRvdDIgPSBtYXJrKHRvdCwgc3R5bGU9J3JlZCcpDQoJZWxzZToNCgkJdG90MiA9IG1hcmsodG90LCBzdHlsZT0nZ3JlZW4nKQ0KCXNvbCgpLnByaW50KHRvdDIpDQoJc2V0dGluZygpDQoNCmRlZiBzZXR0aW5nKCk6DQoJd2wgPSAnIyBTRVRUSU5HIFVSVVRBTiBJRCcNCglzb2woKS5wcmludChtYXJrKHdsLCBzdHlsZT0nY3lhbicpKQ0KCXRla3MgPSAnWzAxXSBDcmFjayBEYXJpIEFrdW4gVGVydHVhIFttYXlhbl1cblswMl0gQ3JhY2sgRGFyaSBBa3VuIFRlcm11ZGEgW01hbnRhcF0nDQoJdGFrID0gbmVsKHRla3MsIHN0eWxlPSdjeWFuJykNCgljZXRhayhuZWwodGFrLCB0aXRsZT0nU0VUVElORycpKQ0KCWh1ID0gaW5wdXQoeCsnWycrcCsnZicreCsnXSBQaWxpaCA6ICcpDQoJaWYgaHUgaW4gWycxJywnMDEnXToNCgkJZm9yIGJhY290IGluIGlkOg0KCQkJaWQyLmFwcGVuZChiYWNvdCkNCgllbGlmIGh1IGluIFsnMicsJzAyJ106DQoJCWZvciBiYWNvdCBpbiBpZDoNCgkJCWlkMi5pbnNlcnQoMCxiYWNvdCkNCgkNCgllbHNlOg0KCQlyaWMgPSAnIyBQSUxJSEFOIFRJREFLIEFEQSBESSBNRU5VJw0KCQlzb2woKS5wcmludChtYXJrKHJpYywgc3R5bGU9J3JlZCcpKQ0KCQlleGl0KCkNCgltZXQgPSAnIyBQSUxJSCBNRVRIT0QgQ1JBQ0snDQoJc29sKCkucHJpbnQobWFyayhtZXQsIHN0eWxlPSdjeWFuJykpDQoJaW96ID0gJ1swMV0gTWV0aG9kIEItQXBpXG5bMDJdIE1ldGhvZCBNb2JpbGVcblswM10gTWV0aG9kIE1iYXNpYyBTZWxvdyBDcmFjaycNCglnZXNzID0gbmVsKGlveiwgc3R5bGU9J2N5YW4nKQ0KCWNldGFrKG5lbChnZXNzLCB0aXRsZT0nTUVUSE9EJykpDQoJaGMgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFBpbGloIDogJykNCglpZiBoYyBpbiBbJzEnLCcwMSddOg0KCQltZXRob2QuYXBwZW5kKCdhcGknKQ0KCWVsaWYgaGMgaW4gWyczJywnMDMnXToNCgkJbWV0aG9kLmFwcGVuZCgnTWJhc2ljJykNCgllbHNlOg0KCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQ0KCWd1dyA9ICcjIFBJTElIQU4gT1BTSSBDUkFDSyAnDQoJc29sKCkucHJpbnQobWFyayhndXcsIHN0eWxlPSdjeWFuJykpDQoJYXBsaWsgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFRhbXBpbGthbiBBcGxpa2FzaSBUZXJrYWl0ID8gKHkvdCkgOiAnKQ0KCWlmIGFwbGlrIGluIFsneScsJ1knXToNCgkJdGFwbGlrYXNpLmFwcGVuZCgneWEnKQ0KCWVsc2U6DQoJCXRhcGxpa2FzaS5hcHBlbmQoJ25vJykNCglvc2sgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIFRhbXBpbGthbiBPcHNpIENoZWNrcG9pbnQ/IFsgTm90IFJlY29tbWVuZGVkIF0gKHkvdCkgOiAnKQ0KCWlmIG9zayBpbiBbJ3knLCdZJ106DQoJCW9wcmVrLmFwcGVuZCgneWEnKQ0KCWVsc2U6DQoJCW9wcmVrLmFwcGVuZCgnbm8nKQ0KCXBhc3N3cmQoKQ0KDQpkZWYgcGFzc3dyZCgpOg0KCWxlciA9ICcjIENSQUNLIERJTVVMQUknDQoJc29sKCkucHJpbnQobWFyayhsZXIsIHN0eWxlPSdjeWFuJykpDQoJa3JlayA9ICdIYXNpbCBPayAgRGlzaW1wYW4gS2UgOiBPSy8lc1xuSGFzaWwgQ3AgRGlzaW1wYW4gS2UgOiBDUC8lc1xuSGlkdXBrYW4vTWF0aWthbiBNb2RlIFBlc2F3YXQgU2V0aWFwIDUgTWVuaXQnJShva2MsY3BjKQ0KCWNldGFrKG5lbChrcmVrLCB0aXRsZT0nQ1JBQ0snKSkNCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6DQoJCWZvciB5dXpvbmcgaW4gaWQyOg0KCQkJaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCgkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdDQoJCQlwd3YgPSBbJ3NheWFuZycsJ3NheWFuZ2t1Jywnc2F5YW5nMTIzJywnYmlzbWlsbGFoJywnYW5qaW5nJywna2F0YXNhbmRpJywnc2FuZGkxMjMsbWFsYW5nLGJpc21pbGxhaDEyMywxMjM0NTUnXQ0KCQkJaWYgbGVuKG5tZik8NjoNCgkJCQlpZiBsZW4oZnJzKTwzOg0KCQkJCQlwYXNzDQoJCQkJZWxzZToNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0JykNCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykNCgkJCWVsc2U6DQoJCQkJaWYgbGVuKGZycyk8MzoNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJZWxzZToNCgkJCQkJcHd2LmFwcGVuZChubWYpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjMnKQ0KCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpDQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpDQoJCQlpZiAnbW9iaWxlJyBpbiBtZXRob2Q6DQoJCQkJcG9vbC5zdWJtaXQoY3JhY2ssaWRmLHB3dikNCgkJCWVsaWYgJ2FwaScgaW4gbWV0aG9kOg0KCQkJCXBvb2wuc3VibWl0KGNyYWNrMixpZGYscHd2KQ0KCQkJZWxpZiAnZnJlZScgaW4gbWV0aG9kOg0KCQkJCXBvb2wuc3VibWl0KGNyYWNrMyxpZGYscHd2KQ0KCQkJZWxzZToNCgkJCQlwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KCXByaW50KCcnKQ0KCXRhbnlhID0gJyMgSU5HSU4gTUVOR0VDRUsgT1BTSSBIQVNJTCBDUkFDSz8nDQoJc29sKCkucHJpbnQobWFyayh0YW55YSwgc3R5bGU9J2N5YW4nKSkNCgl3b2kgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIEluZ2luIE1lbmFtcGlsa2FuIE9wc2kgSGFzaWwgQ3JhY2s/ICh5L3QpIDogJykNCglpZiB3b2kgaW4gWyd5JywnWSddOg0KCQljZWtfb3BzaSgpDQoJZWxzZToNCgkJZXhpdCgpDQoNCmRlZiBjcmFjayhpZGYscHd2KToNCglnbG9iYWwgbG9vcCxvayxjcA0KCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pDQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpDQoJZmZmID0gJyUnDQoJcHJpbnQoJ1xyJXMgW1lBTk4tWERdICVzLyVzIOKAol/igKIgW09LXSAlcyDigKJf4oCiIFtDUF0gJXMg4oCiX+KAoiAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpDQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pDQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQl0aXggPSB0aW1lLnRpbWUoKQ0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J20uZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkNCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL20uZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYnKS50ZXh0DQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwidWlkIjppZGYsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdywibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vdG9vbHMvZGVidWcvYWNjZXNzdG9rZW4vIn0NCgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQ0KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxhbGxvd19yZWRpcmVjdHM9RmFsc2UpDQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlpZiAneWEnIGluIG9wcmVrOg0KCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCQljZWtlcihpZGYscHcpDQoJCQkJZWxzZToNCgkJCQkJcHJpbnQoJ1xuJykNCgkJCQkJc3RhdHVzY3AgPSBmJ1vigKJdIElEICAgICAgIDoge2lkZn0gW+KAol0gUEFTU1dPUkQgOiB7cHd9Jw0KCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSdyZWQnKQ0KCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nU0VTSScpKQ0KCQkJCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykNCgkJCQkJY3ArPTENCgkJCQlicmVhaw0KCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgU0FNU1VORyBTTS1HNzgwRykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgU2Ftc3VuZ0Jyb3dzZXIvMTYuMCBDaHJvbWUvOTIuMC40NTE1LjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiJ9DQoJCQkJaWYgJ25vJyBpbiB0YXBsaWthc2k6DQoJCQkJCW9rKz0xDQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpDQoJCQkJCXByaW50KCdcbicpDQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd30nDQoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykNCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9JyBOTyBTRVNJJykpDQoJCQkJCWJyZWFrDQoJCQkJZWxpZiAneWEnIGluIHRhcGxpa2FzaToNCgkJCQkJb2srPTENCgkJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkNCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KCQkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykNCgkJCQkJdXNlcj1pZGYNCgkJCQkJaW5mb2FrdW4gPSAiIg0KCQkJCQlzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJCQkJCWdldF9pZCA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0DQoJCQkJCW5hbWEgPSByZS5maW5kYWxsKCdcPHRpdGxlXD4oLio/KTxcL3RpdGxlXD4nLHN0cihnZXRfaWQpKVswXQ0KCQkJCQlyZXNwb25zZSA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP3Y9aW5mbyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dA0KCQkJCQlyZXNwb25zZTIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocD92PWZyaWVuZHMiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJcmVzcG9uc2UzID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL20uZmFjZWJvb2suY29tL3t1c2VyfS9hbGxhY3Rpdml0eS8/Y2F0ZWdvcnlfa2V5PWFsbCZzZWN0aW9uX2lkPXllYXJfMjAyMiZ0aW1lc3RhcnQ9MTYwOTQ4ODAwMCZ0aW1lZW5kPTE2NDEwMjM5OTkmc2VjdGlvbkxvYWRpbmdJRD1tX3RpbWVsaW5lX2xvYWRpbmdfZGl2XzE2NDEwMjM5OTlfMTYwOTQ4ODAwMF84XyIsY29va2llcz1jb2tpLGhlYWRlcnM9aGVhZGFwcCkudGV4dA0KCQkJCQlyZXNwb25zZTQgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vbS5mYWNlYm9vay5jb20vdGltZWxpbmUvYXBwX2NvbGxlY3Rpb24vP2NvbGxlY3Rpb25fdG9rZW49e3VzZXJ9JTNBMTg0OTg1MDcxNTM4MDAyJTNBMzImX3JkYz0xJl9yZHIiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJdHJ5Om5vbWVyID0gcmUuZmluZGFsbCgnXDxhXCBocmVmXD1cInRlbFw6XCsuKj9cIj5cPHNwYW5cIGRpclw9XCJsdHJcIj4oLio/KTxcL3NwYW4+PFwvYT4nLHN0cihyZXNwb25zZSkpWzBdDQoJCQkJCWV4Y2VwdDpub21lciA9ICIiDQoJCQkJCXRyeTplbWFpbCA9IHJlLmZpbmRhbGwoJ1w8YSBocmVmXD1cImh0dHBzXDpcL1wvbG1cLmZhY2Vib29rXC5jb21cL2xcLnBocFw/dVw9bWFpbC4qP1wiIHRhcmdldFw9XCIuKj9cIlw+KC4qPyk8XC9hXD4nLHN0cihyZXNwb25zZSkpWzBdLnJlcGxhY2UoJyYjMDY0OycsJ0AnKQ0KCQkJCQlleGNlcHQ6ZW1haWw9IiINCgkJCQkJdHJ5OnR0bCA9IHJlLmZpbmRhbGwoJ1w8XC90ZFw+XDx0ZFwgdmFsaWduXD1cInRvcFwiIGNsYXNzXD1cIi4qP1wiXD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPihcZCtccytcdytccytcZCspPFwvZGl2XD5cPFwvdGRcPlw8XC90clw+JyxzdHIocmVzcG9uc2UpKVswXQ0KCQkJCQlleGNlcHQ6dHRsPSIiDQoJCQkJCXRyeTp0ZW1hbiA9IHJlLmZpbmRhbGwoJ1w8aDNcIGNsYXNzXD1cIi4qP1wiXD5UZW1hblwgXCgoLio/KVwpPFwvaDNcPicsc3RyKHJlc3BvbnNlMikpWzBdDQoJCQkJCWV4Y2VwdDp0ZW1hbiA9ICIiDQoJCQkJCXRyeTpwZW5naWt1dCA9IHJlLmZpbmRhbGwoJ1w8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pXDxcL3NwYW5cPicsc3RyKHJlc3BvbnNlNCkpWzFdDQoJCQkJCWV4Y2VwdDpwZW5naWt1dCA9ICIiDQoJCQkJCXRyeToNCgkJCQkJCXRhaHVuID0gIiINCgkJCQkJCWNla190aG4gPSByZS5maW5kYWxsKCdcPGRpdlwgY2xhc3NcPVwiLio/XCIgaWRcPVwieWVhcl8oLio/KVwiPicsc3RyKHJlc3BvbnNlMykpDQoJCQkJCQlmb3IgbmVuZW4gaW4gY2VrX3RobjoNCgkJCQkJCQl0YWh1biArPSBuZW5lbisiLCAiDQoJCQkJCWV4Y2VwdDpwYXNzDQoNCgkJCQkJaW5mb2FrdW4gKz0gKGYiW+KAouKAol0gTmFtYSBBa3VuICAgICAgIDoge25hbWF9XG5b4oCi4oCiXSBKdW1sYWggVGVtYW4gICAgOiB7dGVtYW59XG5b4oCi4oCiXSBKdW1sYWggUGVuZ2lrdXQgOiB7cGVuZ2lrdXR9XG5b4oCi4oCiXSBFbWFpbCBBa3RpZiAgICAgOiB7ZW1haWx9XG5b4oCi4oCiXSBOb21vciBBa3RpZiAgICAgOiB7bm9tZXJ9XG5b4oCi4oCiXSBUYWh1biBBa3VuICAgICAgOiB7dGFodW59XG5b4oCi4oCiXSBUYW5nZ2FsIExhaGlyICAgOiB7dHRsfVxuIikNCg0KCQkJCQloaXQxLCBoaXQyID0gMCwwDQoJCQkJCWNlayA9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJY2VrMiA9IHNlc3Npb24uZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9Y29raSxoZWFkZXJzPWhlYWRhcHApLnRleHQNCgkJCQkJaWYgIkRpYWtzZXMgbWVuZ2d1bmFrYW4gRmFjZWJvb2siIGluIHJlLmZpbmRhbGwoIlw8dGl0bGVcPiguKj8pPFwvdGl0bGVcPiIsc3RyKGNlaykpOg0KCQkJCQkJaW5mb2FrdW4gKz0gKGYiQXBsaWthc2kgWWFuZyBUZXJrYWl0KlxuIikNCgkJCQkJCWlmICJBbmRhIHRpZGFrIG1lbWlsaWtpIGFwbGlrYXNpIGF0YXUgc2l0dXMgd2ViIGFrdGlmIHVudHVrIGRpdGluamF1LiIgaW4gY2VrOg0KCQkJCQkJCWluZm9ha3VuICs9IChmIlRpZGFrIEFkYSBBcGxpa2FzaSBBa3RpZiBZYW5nIFRlcmthaXQgKlxuIikNCgkJCQkJCWVsc2U6DQoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCUFwbGlrYXNpIEFrdGlmIDogXG4iKQ0KCQkJCQkJCWFwa0FrdGlmID0gcmUuZmluZGFsbCgnXC8+PGRpdlwgY2xhc3NcPVwiLio/XCJcPlw8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvc3Bhblw+JyxzdHIoY2VrKSkNCgkJCQkJCQlkaXRhbWJhaGthbiA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWspKQ0KCQkJCQkJCWZvciBtdW5jdWwgaW4gYXBrQWt0aWY6DQoJCQkJCQkJCWhpdDErPTENCgkJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCQlbe2hpdDF9XSB7bXVuY3VsfSB7ZGl0YW1iYWhrYW5baGl0Ml19XG4iKQ0KCQkJCQkJCQloaXQyKz0xDQoJCQkJCQlpZiAiQW5kYSB0aWRhayBtZW1pbGlraSBhcGxpa2FzaSBhdGF1IHNpdHVzIHdlYiBrZWRhbHV3YXJzYSB1bnR1ayBkaXRpbmphdSIgaW4gY2VrMjoNCgkJCQkJCQlpbmZvYWt1biArPSAoZiJcblRpZGFrIEFkYSBBcGxpa2FzaSBLZWRhbHV3YXJzYSBZYW5nIFRlcmthaXRcbiIpDQoJCQkJCQllbHNlOg0KCQkJCQkJCWhpdDEsaGl0Mj0wLDANCgkJCQkJCQlpbmZvYWt1biArPSAoZiIJQXBsaWthc2kgS2VkYWx1d2Fyc2EgOlxuIikNCgkJCQkJCQlhcGtLYWRhbHVhcnNhID0gcmUuZmluZGFsbCgnXC8+PGRpdlwgY2xhc3NcPVwiLio/XCJcPlw8c3BhblwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvc3Bhblw+JyxzdHIoY2VrMikpDQoJCQkJCQkJa2FkYWx1YXJzYSA9IHJlLmZpbmRhbGwoJ1w8ZGl2XD5cPFwvZGl2XD5cPGRpdlwgY2xhc3NcPVwiLio/XCJcPiguKj8pPFwvZGl2XD4nLHN0cihjZWsyKSkNCgkJCQkJCQlmb3IgbXVuY3VsIGluIGFwa0thZGFsdWFyc2E6DQoJCQkJCQkJCWhpdDErPTENCgkJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCQlbe2hpdDF9XSB7bXVuY3VsfSB7a2FkYWx1YXJzYVtoaXQyXX1cbiIpDQoJCQkJCQkJCWhpdDIrPTENCgkJCQkJZWxzZTpwYXNzDQoJCQkJCXByaW50KCdcbicpDQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9XG57aW5mb2FrdW59Jw0KCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpDQoJCQkJCWNldGFrKG5lbChzdGF0dXNvazEsIHRpdGxlPSdPSycpKQ0KCQkJCQlicmVhaw0KDQoNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJdGltZS5zbGVlcCgzMSkNCglsb29wKz0xDQoNCmRlZiBjcmFjazIoaWRmLHB3dik6DQoJZ2xvYmFsIGxvb3Asb2ssY3ANCgliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQ0KCXBlcnMgPSBsb29wKjEwMC9sZW4oaWQyKQ0KCWZmZiA9ICclJw0KCXByaW50KCdcciVzLS0tPiAlcy8lcyAtLS0+IG9rKiVzIC0tLT4gY3AqJXMgLS0tPiAlcyVzJXMnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSwgZW5kPScgJyk7c3lzLnN0ZG91dC5mbHVzaCgpDQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pLnJlcGxhY2UoJ1xuJywnJykNCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCglmb3IgcHcgaW4gcHd2Og0KCQl0cnk6DQoJCQloZWFkID0geyJ4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItbmV0LWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItY29ubmVjdGlvbi1xdWFsaXR5IjogIkVYQ0VMTEVOVCIsICJ4LWZiLWNvbm5lY3Rpb24tdHlwZSI6ICJjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEiLCAidXNlci1hZ2VudCI6IHVhLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsICJ4LWZiLWh0dHAtZW5naW5lIjogIkxpZ2VyIn0NCgkJCXJlc3AgPSBzZXMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9mb3JtYXQ9anNvbiZlbWFpbD0iK3N0cihpZGYpKyImcGFzc3dvcmQ9IitzdHIocHcpKyImY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlIiwgaGVhZGVycz1oZWFkKQ0KCQkJaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHJlc3AuanNvbigpWyJlcnJvcl9tc2ciXToNCgkJCQlpZiAneWEnIGluIG9wcmVrOg0KCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCQljZWtlcihpZGYscHcpDQoJCQkJZWxzZToNCgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICclKGIsaWRmLHB3KSkNCgkJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpDQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpDQoJCQkJCWNwKz0xDQoJCQkJYnJlYWsNCgkJCWVsaWYgInNlc3Npb25fa2V5IiBpbiByZXNwLnRleHQgYW5kICJFQUFBIiBpbiByZXNwLnRleHQ6DQoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IE9LICAgICAgICclKGgsaWRmLHB3KSkNCgkJCQlvcGVuKCdPSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJCQlvays9MQ0KCQkJCWJyZWFrDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCgkJCXRpbWUuc2xlZXAoMzEpDQoJbG9vcCs9MQ0KDQpkZWYgY3JhY2szKGlkZixwd3YpOg0KCWdsb2JhbCBsb29wLG9rLGNwDQoJYmkgPSByYW5kb20uY2hvaWNlKFt1LGssa2ssYixoLGhoXSkNCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikNCglmZmYgPSAnJScNCglwcmludCgnXHIlcyA+wrA8ICVzLyVzIDwtPiBPSzolcyA8LT4gQ1A6JXMgPC0+ICVzJXMlcyclKGJpLGxvb3AsbGVuKGlkMiksb2ssY3AsaW50KHBlcnMpLHN0cihmZmYpLHgpLCBlbmQ9JyAnKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCWZvciBwdyBpbiBwd3Y6DQoJCXRyeToNCgkJCXRpeCA9IHRpbWUudGltZSgpDQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjoibWJhc2ljLmZhY2Vib29rLmNvbSIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkNCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP2VtYWlsPScraWRmKS50ZXh0DQoJCQlkYXRhYSA9ew0KJ2xzZCc6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocCkpLmdyb3VwKDEpLA0KJ2phem9lc3QnOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksDQonbV90cyc6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwNCidsaSc6cmUuc2VhcmNoKCduYW1lPSJsaSIgdmFsdWU9IiguKj8pIicsIHN0cihwKSkuZ3JvdXAoMSksDQonZW1haWwnOmlkZiwNCidwYXNzJzpwdw0KfQ0KCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywNCidjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQondXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywNCidvcmlnaW4nOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJywNCidjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywNCid1c2VyLWFnZW50JzogdWEsDQonYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsDQonc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLA0KJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLA0KJ3NlYy1mZXRjaC11c2VyJzogJ2VtcHR5JywNCidzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsDQoncmVmZXJlcic6ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP2VtYWlsPScraWRmLA0KJ2FjY2VwdC1lbmNvZGluZyc6J2d6aXAsIGRlZmxhdGUgYnInLA0KJ2FjY2VwdC1sYW5ndWFnZSc6J2VuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44J30pDQoNCgkJCXBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/c2hibD0xJnJlZnNyYz1kZXByZWNhdGVkJyxkYXRhPWRhdGFhLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkNCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KCQkJCWlmICd5YScgaW4gb3ByZWs6DQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpDQoJCQkJCWNla2VyKGlkZixwdykNCgkJCQllbHNlOg0KCQkJCQlwcmludCgnXG4nKQ0KCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nDQoJCQkJCXN0YXR1c2NwMSA9IG5lbChzdGF0dXNjcCwgc3R5bGU9J3JlZCcpDQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdTRVNJJykpDQoJCQkJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQ0KCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQ0KCQkJCQljcCs9MQ0KCQkJCWJyZWFrDQoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KCQkJCWlmICdubydpbiB0YXBsaWthc2k6DQoJCQkJCW9rKz0xDQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpDQoJCQkJCXByaW50KCdcbicpDQoJCQkJCXN0YXR1c29rID0gZidbT0tdICAgICAgIDoge2lkZn1cbltPS10gUEFTU1dPUkQgOiB7cHd9XG5b4oCiXSBDT09LSUVTICA6IHtrdWtpfVxue2luZm9ha3VufScgICANCgkJCQllbGlmICd5YSdpbiB0YXBsaWthc2k6DQoJCQkJCW9rKz0xDQoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCgkJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8JytrdWtpKydcbicpDQoJCQkJCXVzZXI9aWRmDQoJCQkJCWluZm9ha3VuID0gIiINCgkJCQkJc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCQkJCQlnZXRfaWQgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9wcm9maWxlLnBocCIsY29va2llcz1jb2tpKS50ZXh0DQoJCQkJCXJlc3BvbnNlID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/dj1pbmZvIixjb29raWVzPWNva2kpLnRleHQNCgkJCQkJcmVzcG9uc2UyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/dj1mcmllbmRzIixjb29raWVzPWNva2kpLnRleHQNCgkJCQkJcmVzcG9uc2UzID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL20uZmFjZWJvb2suY29tL3t1c2VyfS9hbGxhY3Rpdml0eS8/Y2F0ZWdvcnlfa2V5PWFsbCZzZWN0aW9uX2lkPXllYXJfMjAyMiZ0aW1lc3RhcnQ9MTYwOTQ4ODAwMCZ0aW1lZW5kPTE2NDEwMjM5OTkmc2VjdGlvbkxvYWRpbmdJRD1tX3RpbWVsaW5lX2xvYWRpbmdfZGl2XzE2NDEwMjM5OTlfMTYwOTQ4ODAwMF84XyIsY29va2llcz1jb2tpKS50ZXh0DQoJCQkJCXJlc3BvbnNlNCA9IHNlc3Npb24uZ2V0KGYiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS90aW1lbGluZS9hcHBfY29sbGVjdGlvbi8/Y29sbGVjdGlvbl90b2tlbj17dXNlcn0lM0ExODQ5ODUwNzE1MzgwMDIlM0EzMiZfcmRjPTEmX3JkciIsY29va2llcz1jb2tpKS50ZXh0DQoJCQkJDQoJCQkJCWhpdDEsIGhpdDIgPSAwLDANCgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz1jb2tpKS50ZXh0DQoJCQkJCWNlazIgPSBzZXNzaW9uLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2kpLnRleHQNCgkJCQkJaWYgIkRpYWtzZXMgbWVuZ2d1bmFrYW4gRmFjZWJvb2siIGluIHJlLmZpbmRhbGwoIlw8dGl0bGVcPiguKj8pPFwvdGl0bGVcPiIsc3RyKGNlaykpOg0KCQkJCQkJaW5mb2FrdW4gKz0gKGYiQXBsaWthc2kgWWFuZyBUZXJrYWl0KlxuIikNCgkJCQkJCWlmICJBbmRhIHRpZGFrIG1lbWlsaWtpIGFwbGlrYXNpIGF0YXUgc2l0dXMgd2ViIGFrdGlmIHVudHVrIGRpdGluamF1LiIgaW4gY2VrOg0KCQkJCQkJCWluZm9ha3VuICs9IChmIlRpZGFrIEFkYSBBcGxpa2FzaSBBa3RpZiBZYW5nIFRlcmthaXQgKlxuIikNCgkJCQkJCWVsc2U6DQoJCQkJCQkJaW5mb2FrdW4gKz0gKGYiCeKAlF9BcGxpa2FzaSBBa3RpZiA6IFxuIikNCgkJCQkJCQlpbmZvYWt1biArPSAoZiIJ4oCUX0FwbGlrYXNpIEtlZGFsdXdhcnNhIDogXG4iKQ0KCQkJCQllbHNlOnBhc3MNCgkJCQkJcHJpbnQoJ1xuJykNCgkJCQkJc3RhdHVzb2sgPSBmJ1tDUF0gICAgICAgOiB7aWRmfVxuW0NQXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9XG57aW5mb2FrdW59Jw0KCQkJCQkNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KCQkJdGltZS5zbGVlcCgzMSkNCglsb29wKz0xDQoNCmRlZiBjZWtlcihpZGYscHcpOg0KCWdsb2JhbCBjcA0KCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgUzQ1QikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk2LjAuNDY2NC40NSBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCgloZWFkID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0NCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkNCgl0cnk6DQoJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCgkJaG8gPSBwYXJzZXIoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAnLCBkYXRhPXsnZW1haWwnOmlkZiwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZCwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsJ2h0bWwucGFyc2VyJykNCgkJam8gPSBoby5maW5kKCdmb3JtJykNCgkJZGF0YSA9IHt9DQoJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10NCgkJZm9yIGFuaiBpbiBqbygnaW5wdXQnKToNCgkJCWlmIGFuai5nZXQoJ25hbWUnKSBpbiBsaW9uOg0KCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pDQoJCWtlbnQgPSBwYXJzZXIoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrc3RyKGpvWydhY3Rpb24nXSksIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkKS50ZXh0LCdodG1sLnBhcnNlcicpDQoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQ0KCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykNCgkJY3ArPTENCgkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpDQoJCWlmIGxlbihvcHNpKT09MDoNCgkJCXByaW50KCdcciVzLS0tPiBUYXAgWWVzIC8gQTJGIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkNCgkJZWxzZToNCgkJCWZvciBvcHNpaSBpbiBvcHNpOg0KCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkNCglleGNlcHQgRXhjZXB0aW9uIGFzIGM6DQoJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWRmLHB3LHgpKQ0KCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljKSVzJyUodSx4KSkNCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpDQoJCWNwKz0xDQoNCmRlZiBjZWtfb3BzaSgpOg0KCWMgPSBsZW4oYWt1bikNCglodSA9ICdUZXJkYXBhdCAlcyBBa3VuIFVudHVrIERpY2VrXG5TZWJlbHVtIE11bGFpLCBNb2RlIFBlc2F3YXQvVWJhaCBLYXJ0dSBTaW0gVGVybGViaWggRGFodWx1JyUoYykNCgljZXRhayhuZWwoaHUsIHRpdGxlPSdDRUsgT1BTSScpKQ0KCWlucHV0KHgrJ1snK2grJ+KAoicreCsnXSBNdWxhaScpDQoJY2VrID0gJyMgUFJPU0VTIENFSyBPUFNJIERJTVVMQUknDQoJc29sKCkucHJpbnQobWFyayhjZWssIHN0eWxlPSdncmVlbicpKQ0KCWxvdmUgPSAwDQoJZm9yIGtlcyBpbiBha3VuOg0KCQl0cnk6DQoJCQl0cnk6DQoJCQkJaWQscHcgPSBrZXMuc3BsaXQoJ3wnKVswXSxrZXMuc3BsaXQoJ3wnKVsxXQ0KCQkJZXhjZXB0IEluZGV4RXJyb3I6DQoJCQkJdGltZS5zbGVlcCgyKQ0KCQkJCXByaW50KCdcciVzKysrKyAlcyAtLS0tPiBFcnJvciAgICAgICVzJyUoYixrZXMseCkpDQoJCQkJcHJpbnQoJ1xyJXMtLS0+IFBlbWlzYWggVGlkYWsgRGlkdWt1bmcgVW50dWsgUHJvZ3JhbSBJbmklcyclKHUseCkpDQoJCQkJY29udGludWUNCgkJCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pDQoJCQlwcmludCgnXHIlcy0tLT4gJXMvJXMgLS0tPiB7ICVzIH0lcyclKGJpLGxvdmUsbGVuKGFrdW4pLGlkLHgpLCBlbmQ9JyAnKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgUzQ1QikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk2LjAuNDY2NC40NSBNb2JpbGUgU2FmYXJpLzUzNy4zNicNCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCQkJaGVhZGVyID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0NCgkJCWhpID0gc2VzLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJykNCgkJCWhvID0gcGFyc2VyKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzppZCwncGFzcyc6cHcsJ2xvZ2luJzonc3VibWl0J30sIGhlYWRlcnM9aGVhZGVyLCBhbGxvd19yZWRpcmVjdHM9VHJ1ZSkudGV4dCwnaHRtbC5wYXJzZXInKQ0KCQkJaWYgImNoZWNrcG9pbnQiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOg0KCQkJCXRyeToNCgkJCQkJam8gPSBoby5maW5kKCdmb3JtJykNCgkJCQkJZGF0YSA9IHt9DQoJCQkJCWxpb24gPSBbJ25oJywnamF6b2VzdCcsJ2ZiX2R0c2cnLCdzdWJtaXRbQ29udGludWVdJywnY2hlY2twb2ludF9kYXRhJ10NCgkJCQkJZm9yIGFuaiBpbiBqbygnaW5wdXQnKToNCgkJCQkJCWlmIGFuai5nZXQoJ25hbWUnKSBpbiBsaW9uOg0KCQkJCQkJCWRhdGEudXBkYXRlKHthbmouZ2V0KCduYW1lJyk6YW5qLmdldCgndmFsdWUnKX0pDQoJCQkJCWtlbnQgPSBwYXJzZXIoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrc3RyKGpvWydhY3Rpb24nXSksIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkZXIpLnRleHQsJ2h0bWwucGFyc2VyJykNCgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkNCgkJCQkJb3BzaSA9IGtlbnQuZmluZF9hbGwoJ29wdGlvbicpDQoJCQkJCWlmIGxlbihvcHNpKT09MDoNCgkJCQkJCXByaW50KCdcciVzLS0tPiBUYXAgWWVzIC8gQTJGIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkNCgkJCQkJZWxzZToNCgkJCQkJCWZvciBvcHNpaSBpbiBvcHNpOg0KCQkJCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkNCgkJCQlleGNlcHQ6DQoJCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBDUCAgICAgICAlcyclKGIsaWQscHcseCkpDQoJCQkJCXByaW50KCdcciVzLS0tPiBUaWRhayBEYXBhdCBNZW5nZWNlayBPcHNpJXMnJSh1LHgpKQ0KCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gT0sgICAgICAgJXMnJShoLGlkLHB3LHgpKQ0KCQkJZWxzZToNCgkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gU0FMQUggICAgICAgJXMnJSh4LGlkLHB3LHgpKQ0KCQkJbG92ZSs9MQ0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQlwcmludCgnJykNCgkJCWxpID0gJyMgS09ORUtTSSBJTlRFUk5FVCBCRVJNQVNBTEFILCBQRVJJS1NBICYgQ09CQSBMQUdJJw0KCQkJc29sKCkucHJpbnQobWFyayhsaSwgc3R5bGU9J3JlZCcpKQ0KCQkJZXhpdCgpDQoJZGFoID0gJyMgRE9ORScNCglzb2woKS5wcmludChtYXJrKGRhaCwgc3R5bGU9J2N5YW4nKSkNCglleGl0KCkNCg0KZGVmIGxhaCgpOg0KCXByaW50KCJcciIrYmFsbW9uZCttKyIgVG90YWwgSUQgOiAiK3N0cihsZW4oaWQpKSsiICAgICAgICAgICAgICAgICAgICAgIikNCglpbnB1dChiYWxtb25kK20gKyIgTW9kZSBQZXNhd2F0IDUgRGV0aWsgRGFuIFRla2FuIEVudGVyIFVudHVrIE11bGFpIENyYWNrICIpDQoJcGFzcw0KCXNldHRpbmcoKQ0KCQ0KZGVmIGdydXAoKToNCgl3aW4gPSAnIyBQQVNUSUtBTiBJRCBHUk9VUCBQVUJMSUsnDQoJd2luMiA9IG1hcmsod2luLCBzdHlsZT0nY3lhbicpDQoJc29sKCkucHJpbnQod2luMikNCglpZCA9IGlucHV0KCIiK2JhbG1vbmQraCsiIElkIEF0YXUgVXNlciBOYW1lIEdydXAgOiAiKQ0KCXVhID0gJ01vemlsbGEvNS4wIChTeW1iaWFuT1MvOS4zOyBTZXJpZXM2MC8zLjIgTm9raWFFNTItMS8wNTIuMDAzOyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MjUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzMuMCBCcm93c2VyTkcvNy4yLjYuMiAzZ3BwLWdiYScNCgltaXNraW5sdSA9IHsidXNlci1hZ2VudCI6IHVhfQ0KCXVybCA9ICJodHRwczovL20uZmFjZWJvb2suY29tL2dyb3Vwcy8iK2lkDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJdHJ5Og0KCQlnbiA9IHBhcnNlcihzZXMuZ2V0KHVybCwgaGVhZGVycz1taXNraW5sdSkudGV4dCwgImh0bWwucGFyc2VyIikNCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCXByaW50KGJhbG1vbmQrbSsiIEtvbmVrc2kgSW50ZXJuZXQgVGVycHV0dXMuLiIpDQoJCXRpbWUuc2xlZXAoMC41KQ0KCQlleGl0KCkNCgliZXJyID0gZ24uZmluZCgidGl0bGUiKQ0KCWJlcnIyID0gYmVyci50ZXh0LnJlcGxhY2UoIiB8IEZhY2Vib29rIiwiIikucmVwbGFjZSgiIEdydXAgUHVibGlrIiwiIikNCglpZiBiZXJyMj09J01hc3VrIEZhY2Vib29rJzoNCgkJcHJpbnQoYmFsbW9uZCttKyIgTGltaXQsIFNpbGFoa2FuIE1vZGUgUGVzYXdhdCBEYW4gQ29iYSBMYWdpLi4iKQ0KCQl0aW1lLnNsZWVwKDAuNSkNCgkJZXhpdCgpDQoJZWxpZiBiZXJyMj09J0tlc2FsYWhhbic6DQoJCWphbGFuKGJhbG1vbmQrbSsiIEdydXAgVGlkYWsgRGl0ZW11a2FuLi4iKQ0KCQl0aW1lLnNsZWVwKDAuNSkNCgkJZXhpdCgpDQoJZWxzZTpwYXNzDQoJcHJpbnQoIiIrYmFsbW9uZCtwKyIgTmFtYSBHcnVwIDogIitiZXJyMikNCglnZ3MgPSBnbi5maW5kX2FsbCgndGFibGUnKQ0KCWFuZyA9IFtdDQoJZm9yIGZmIGluIGdnczoNCgkJYW5nZ28gPSBmZi50ZXh0DQoJCWJybyA9IGFuZ2dvLnJlcGxhY2UoJ0FuZ2dvdGEnLCcnKQ0KCQl0cnk6DQoJCQltZXggPSBpbnQoYnJvKQ0KCQkJanVtbGFoID0gYW5nLmFwcGVuZChtZXgpDQoJCWV4Y2VwdDoNCgkJCXBhc3MNCglpZiBsZW4oYW5nKT09MDoNCgkJcHJpbnQoYmFsbW9uZCtoKyIgQW5nZ290YSA6IC0iKQ0KCWVsc2U6DQoJCXByaW50KGJhbG1vbmQraCsiIEFuZ2dvdGEgOiAiK3N0cihhbmdbMF0pKQ0KCWdydXAxKHVybCkNCg0KZGVmIGdydXAxKHVybHMpOg0KCXVzZSA9IFtdDQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJcHJpbnQoIiIrYmFsbW9uZCtwKyIgSmlrYSBTdGFjaywgTW9kZSBQZXNhd2F0IDUgRGV0aWsiKQ0KCXByaW50KGJhbG1vbmQrcCsiIFNlZGFuZyBNZW5ndW1wdWxrYW4gSUQiKQ0KCXByaW50KGJhbG1vbmQrcCsiIFRla2FuIENUUkwgKyBDIFVudHVrIFN0b3AiKQ0KCXdoaWxlIFRydWU6DQoJCXRyeToNCgkJCXVhID0gJ01vemlsbGEvNS4wIChTeW1iaWFuT1MvOS4zOyBTZXJpZXM2MC8zLjIgTm9raWFFNTItMS8wNTIuMDAzOyBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgKSBBcHBsZVdlYktpdC81MjUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzMuMCBCcm93c2VyTkcvNy4yLjYuMiAzZ3BwLWdiYScNCgkJCW1pc2tpbmx1ID0geyJ1c2VyLWFnZW50IjogdWF9DQoJCQl0cnk6DQoJCQkJdXJsID0gdXNlWzBdDQoJCQlleGNlcHQ6DQoJCQkJdXJsID0gdXJscw0KCQkJc2V0ID0gcGFyc2VyKHNlcy5nZXQodXJsLCBoZWFkZXJzPW1pc2tpbmx1KS50ZXh0LCAiaHRtbC5wYXJzZXIiKQ0KCQkJYmYyID0gc2V0LmZpbmRfYWxsKCdhJykNCgkJCWZvciBnIGluIGJmMjoNCgkJCQljc3MgPSBzdHIoZykuc3BsaXQoJz4nKQ0KCQkJCWlmICdMaWhhdCBQb3N0aW5nYW4gTGFpbm55YTwvc3BhbicgaW4gY3NzOg0KCQkJCQliY2ogPSBzdHIoZykucmVwbGFjZSgnPGEgaHJlZj0iJywnJykucmVwbGFjZSgnYW1wOycsJycpDQoJCQkJCWJjajIgPSBiY2ouc3BsaXQoJyAnKVswXS5yZXBsYWNlKCciPjxpbWcnLCcnKQ0KCQkJdGVzID0gc2V0LmZpbmRfYWxsKCd0YWJsZScpDQoJCQlmb3IgY2FyaSBpbiB0ZXM6DQoJCQkJbGlhdG5paCA9IGNhcmkudGV4dA0KCQkJCXNwbCA9IGxpYXRuaWguc3BsaXQoJyAnKQ0KCQkJCWlmICdtZW5nYWp1a2FuJyBpbiBzcGw6DQoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkNCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpDQoJCQkJCW5hbWF5b3UgPSBsaWF0bmloLnJlcGxhY2UoJyBtZW5nYWp1a2FuIHBlcnRhbnlhYW4gLicsJycpDQoJCQkJCWlka3UgPSBpZHlvdSsnfCcrbmFtYXlvdQ0KCQkJCQlpZiBpZGt1IGluIGlkOg0KCQkJCQkJY29udGludWUNCgkJCQkJZWxzZToNCgkJCQkJCWlkLmFwcGVuZChpZGt1KQ0KCQkJCQkJcHJpbnQoKCJcciIrYmFsbW9uZCtoKyIgeyAiK2srIlByb3NlcyBNZW5nYW1iaWwgSUQgIitzdHIobGVuKGlkKSkraCsiIH0iKSwgZW5kPSIiKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCQllbGlmICc+JyBpbiBzcGw6DQoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkNCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpDQoJCQkJCW5hbWF5b3UgPSBsaWF0bmloLnNwbGl0KCcgPiAnKVswXQ0KCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UNCgkJCQkJaWYgaWRrdSBpbiBpZDoNCgkJCQkJCWNvbnRpbnVlDQoJCQkJCWVsc2U6DQoJCQkJCQlpZC5hcHBlbmQoaWRrdSkNCgkJCQkJCXByaW50KCgiXHIiK2JhbG1vbmQraCsiIHsgIitPKyJNZW5ndW1wdWxrYW4gSUQgIitzdHIobGVuKGlkKSkraCsiIH0iKSwgZW5kPSIiKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJCQllbHNlOg0KCQkJCQljb250aW51ZQ0KCQkJdHJ5Og0KCQkJCWxpbmtfID0gYmNqMg0KCQkJCXVzZS5pbnNlcnQoMCwnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScrbGlua18pDQoJCQlleGNlcHQ6DQoJCQkJZ2lyYW5nID0gc2V0LmZpbmQoJ3RpdGxlJykNCgkJCQlnaXJhbmcyID0gZ2lyYW5nLnRleHQucmVwbGFjZSgiIHwgRmFjZWJvb2siLCIiKS5yZXBsYWNlKCIgR3J1cCBQdWJsaWsiLCIiKQ0KCQkJCWlmIGdpcmFuZzI9PSdNYXN1ayBGYWNlYm9vayc6DQoJCQkJCXBhc3MNCgkJCQllbHNlOg0KCQkJCQlsYWgoKQ0KCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQoJCQl0cnk6DQoJCQkJdGltZS5zbGVlcCgzMSkNCgkJCWV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoNCgkJCQlsYWgoKQ0KCQlleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6DQoJCQlsYWgoKQ0KDQpzYWF0X2luaSA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpDQoNCmRlZiBydW4obGluaywgdG9rZW4pOg0KDQogICAgd2hpbGUgVHJ1ZToNCg0KICAgICAgICBoZWFkZXJzID0gew0KDQogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsDQoNCiAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsDQoNCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8wJywNCg0KICAgICAgICAgICAgJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTguMC40NzU4LjY2IFNhZmFyaS81MzcuMzYnLA0KDQogICAgICAgIH0NCg0KICAgICAgICB0cnk6DQoNCiAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoZidodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mZWVkP2xpbms9e2xpbmt9JnB1Ymxpc2hlZD0wJmFjY2Vzc190b2tlbj17dG9rZW59JywgaGVhZGVycz1oZWFkZXJzKQ0KDQogICAgICAgICAgcHJpbnQocmVzcG9uc2UudGV4dCkNCg0KICAgICAgICBleGNlcHQ6DQoNCiAgICAgICAgICBzeXMuZXhpdCgpDQoNCmRlZiBtYWluKCk6DQoNCiAgICBiYW5uZXIoKQ0KDQogICAgcHJpbnQoJ1x4MWJbMDs5NG3ilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAnKQ0KICAgICNsaW5rID0gaW5wdXQoJ0xpbmsgUG9zdHMgOiAnKQ0KICAgIHRva2VuID0gaW5wdXQoJ+KUnOKUgOKUgFvigKJdIFRva2VuIEZhY2Vib29rIDpceDFiWzA7OTJtICcpDQoNCiAgICMgdG9rZW4gPSBpbnB1dCgnVG9rZW4gRkIgOiAnKQ0KICAgIGxpbmsgPSBpbnB1dCgnXHgxYlswOzk0beKUnOKUgOKUgFvigKJdIExpbmsgUG9zdGluZ2FuIDpceDFiWzA7OTJtICcpDQogICAgcHJpbnQoJ1x4MWJbMDs5NG3ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgnKQ0KDQogICAgbnVtYmVyX3RocmVhZCA9IGludChpbnB1dCgnW+Kck13igJPigJM+SVNJIEFKQSAyMCBCRyAgOlx4MWJbMDs5Mm0gICcpKQ0KDQogICAgZm9yIGkgaW4gcmFuZ2UobnVtYmVyX3RocmVhZCk6DQogICAgICAgIHRocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXJ1biwgYXJncz0obGluaywgdG9rZW4pKQ0KIyAgICAgICAgcHJpbnQoJ1NJTkdFSycsdGhyZWFkLnN0YXJ0KCkpDQogICAgICAgIHRocmVhZC5zdGFydCgpDQogICAgICAgIA0KZGVmIGZvbGxvd2VyKCk6DQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBleGl0KCkNCg0KICAgIHdpbiA9ICcjIERVTVAgSUQgREFSSSBGT0xMT1dFUicNCiAgICB3aW4yID0gbWFyayh3aW4sIHN0eWxlPSdjeWFuJykNCiAgICBzb2woKS5wcmludCh3aW4yKQ0KICAgIHByaW50KHggKyAnWycgKyBoICsgJ+KAoicgKyB4ICsgJ10gS2V0aWsgIm1lIiBKaWthIEluZ2luIERhcmkgRm9sbG93ZXIgTXUnKQ0KICAgIHBpbGkgPSBpbnB1dCh4KydbJytwKydmJyt4KyddIE1hc3Vra2FuIElEIEZhY2Vib29rIDogJykNCiAgICB0cnk6DQogICAgICAgIGtvaDIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBwaWxpICsgJz9maWVsZHM9c3Vic2NyaWJlcnMubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPScgKyB0b2tlbmt1WzBdKS5qc29uKCkNCiAgICAgICAgZm9yIHBpIGluIGtvaDJbJ3N1YnNjcmliZXJzJ11bJ2RhdGEnXToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpZC5hcHBlbmQocGlbJ2lkJ10gKyAnfCcgKyBwaVsnbmFtZSddKQ0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgcHJpbnQoeCArICdbJyArIGggKyAn4oCiJyArIHggKyAnXSBUb3RhbCA6ICcgKyBzdHIobGVuKGlkKSkpDQogICAgICAgIHNldHRpbmcoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgbGkgPSAnIyBLT05FS1NJIElOVEVSTkVUIEJFUk1BU0FMQUgsIFBFUklLU0EgJiBDT0JBIExBR0knDQogICAgICAgIGxvID0gbWFyayhsaSwgc3R5bGU9J3JlZCcpDQogICAgICAgIHNvbCgpLnByaW50KGxvLCBzdHlsZT0nY3lhbicpDQogICAgICAgIGV4aXQoKQ0KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KICAgICAgICB0ZWtzID0gJyMgRk9MTE9XRVIgVElEQUsgUFVCTElLIEFUQVUgVE9LRU4gUlVTQUsnDQogICAgICAgIHRla3MyID0gbWFyayh0ZWtzLCBzdHlsZT0ncmVkJykNCiAgICAgICAgc29sKCkucHJpbnQodGVrczIpDQogICAgICAgIGV4aXQoKQ0KDQpkZWYgdXNlcmFnZW50KCk6DQoJcHJpbnQgKCJcbiVzWyVzMDElc10uIEdhbnRpIHVzZXIgYWdlbnQgIiUoUCxILFApKQ0KCXByaW50ICgiJXNbJXMwMiVzXS4gQ2VrIHVzZXIgYWdlbnQgIiUoUCxILFApKQ0KCXByaW50ICgiJXNbJXMwMCVzXS4gS2VtYmFsaSAiJShQLEgsUCkpDQoJX19BYW5nX19TYXlhbmdfX0xhdXJhX18gPSBpbnB1dCgnXG4lc1slcyslc10gUGlsaWggOiVzICclKFAsTSxQLEgpKQ0KCXVhcyhfX0FhbmdfX1NheWFuZ19fTGF1cmFfXykNCgkNCmRlZiB1YXMoX19BYW5nX19TYXlhbmdfX0xhdXJhX18pOg0KCWlmIF9fQWFuZ19fU2F5YW5nX19MYXVyYV9fID09ICcnOg0KCQlwcmludCAoJ1xuJXNbJXMhJXNdIFlhbmcgYmVuZXIga29udG9sJyUoUCxLLFApKTtqZWRhKDIpDQoJCXVhcyhfX0FhbmdfX1NheWFuZ19fTGF1cmFfXykNCgllbGlmIF9fQWFuZ19fU2F5YW5nX19MYXVyYV9fIGluKCIxIiwiMDEiKToNCgkJcHJpbnQgKCIlc1slcyElc10gS2V0aWsgJXNjYW5jZWwlcyB1bnR1ayBndW5ha2FuIHVhIGRhcmkgc2NyaXB0IiUoUCxILFAsSCxQKSkNCgkJdWEgPSBpbnB1dCgiJXNbJXMhJXNdIFVzZXIgYWdlbnQgOiVzICIlKFAsSCxQLEgpKQ0KCQlpZiB1YSBpbigiIik6DQoJCQlwcmludCAoJ1xuJXNbJXMhJXNdIFlhbmcgYmVuZXIga29udG9sJyUoUCxLLFApKTtqZWRhKDIpDQoJCQltZW51KCkNCgkJZWxpZiB1YSBpbigiQ0FOQ0VMIiwiQ2FuY2VsIiwiY2FuY2VsIik6DQoJCQl1YV8gPSAoIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIikNCgkJCW9wZW4oInVhLnR4dCIsInciKS53cml0ZSh1YV8pO2plZGEoMikNCgkJCXByaW50ICgiXG4lc1slc+KckyVzXSAgQmVyaGFzaWwgbWVuZ2d1bmFrYW4gdXNlciBhZ2VudCBzY3JpcHQgIiUoUCxILFApKTtqZWRhKDIpDQoJCQlwaWxpaGFuKCkubWVudSgpDQoJCW9wZW4oInVhLnR4dCIsInciKS53cml0ZSh1YSk7dGltZS5zbGVlcCgyKQ0KCQlwcmludCAoIlxuJXNbJXPinJMlc10gQmVyaGFzaWwgbWVuZ2dhbnRpIHVzZXIgYWdlbnQiJShQLEgsUCkpO3RpbWUuc2xlZXAoMikNCgkJbWVudSgpDQoJZWxpZiBfX0FhbmdfX1NheWFuZ19fTGF1cmFfXyBpbigiMiIsIjAyIik6DQoJCXRyeToNCgkJCXVhXyA9IG9wZW4oJ3VhLnR4dCcsICdyJykucmVhZCgpO3RpbWUuc2xlZXAoMikNCgkJCXByaW50ICgiJXNbJXMrJXNdIFVzZXIgYW5nZXQgbHUgOiVzJXMgIiUoUCxILFAsSCx1YV8pKTt0aW1lLnNsZWVwKDIpDQoJCQlpbnB1dCgnXG4lc1slcyElc10gVGVrYW4gZW50ZXIgJyUoUCxILFApKQ0KCQkJbWVudSgpDQoJCWV4Y2VwdCBJT0Vycm9yOg0KCQkJdWFfID0gJyVzLSclKE0pDQoJZWxpZiBfX0FhbmdfX1NheWFuZ19fTGF1cmFfXyBpbigiMCIsIjAwIik6DQoJCW1lbnUoKQ0KCWVsc2U6DQoJCXByaW50ICgnXG4lc1slcyElc10gWWFuZyBiZW5lciBrb250b2wnJShQLEssUCkpO3RpbWUuc2xlZXAoMikNCgkJdWFzKF9fQWFuZ19fU2F5YW5nX19MYXVyYV9fKQ0KCQkNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KCXRyeTpvcy5ta2RpcignQ1AnKQ0KCWV4Y2VwdDpwYXNzDQoJdHJ5Om9zLm1rZGlyKCdPSycpDQoJZXhjZXB0OnBhc3MNCglsaWNlbnNpKCkNCg=="))
